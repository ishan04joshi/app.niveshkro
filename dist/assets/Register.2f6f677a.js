import{u as Re,g as Ue,b as _e,r,az as C,j as n,B as s,l as o,d as e,aA as u,aB as i,H as v,T as d,S as c,aO as Pe,bR as Ve,by as Ie,I as l,e as g,bS as m,bT as p,a2 as je,bU as De}from"./index.996e1d78.js";import{a as Oe}from"./chakra-ui-avatar.esm.53e6ba8c.js";import{S as k}from"./chakra-ui-select.esm.de14ec1a.js";const Le=[{value:"Father",option:"Father"},{value:"Mother",option:"Mother"},{value:"Spouse",option:"Spouse"},{value:"Brother",option:"Brother"},{value:"Sister",option:"Sister"},{value:"Other",option:"Other"}];function Ze(){var le,se,de,ce,me,pe;const w=Re();Ue();const{email:Ee,phone:He,setUser:Ce,user:t}=_e(),[f,ve]=r.exports.useState(null),[we,ze]=r.exports.useState(null),[B,A]=r.exports.useState(""),[N,z]=r.exports.useState(""),[ke,W]=r.exports.useState(""),[F,T]=r.exports.useState(""),[R,U]=r.exports.useState(""),[Be,_]=r.exports.useState(""),[P,V]=r.exports.useState(""),[I,j]=r.exports.useState(""),[D,O]=r.exports.useState(""),[L,E]=r.exports.useState(""),[H,M]=r.exports.useState(""),[$,G]=r.exports.useState(""),[Z,q]=r.exports.useState(""),[y,Ae]=r.exports.useState(null),[J,K]=r.exports.useState(""),[S,Ne]=r.exports.useState(null),[b,We]=r.exports.useState(null),[Fe,x]=r.exports.useState(!1),Q=C.useRef(),X=C.useRef(),Y=C.useRef(),ee=C.useRef(),[ae,te]=r.exports.useState(""),[ne,oe]=r.exports.useState(""),[re,ie]=r.exports.useState("");r.exports.useEffect(()=>{var a,h,he,ue,ge,fe,ye,Se,be,xe;!t||(A(t.firstName||""),z(t.lastName||""),W(t.country||"india"),T(((a=t.bankAccount)==null?void 0:a.name)||""),U(((h=t.bankAccount)==null?void 0:h.accountNo)||""),_(((he=t.bankAccount)==null?void 0:he.type)||null),V(((ue=t.bankAccount)==null?void 0:ue.ifsc)||""),j(((ge=t.bankAccount)==null?void 0:ge.branch)||""),O(t.state||""),E(t.city||""),M(t.zip||""),G(t.address||""),q(((fe=t.aadhar)==null?void 0:fe.id)||""),K(((ye=t.pan)==null?void 0:ye.id)||""),te(((Se=t.nominee)==null?void 0:Se.name)||""),oe(((be=t.nominee)==null?void 0:be.dob)||""),ie(((xe=t.nominee)==null?void 0:xe.relationship)||""))},[t]);const Te=async()=>{x(!0);try{const a=new FormData;a.append("firstName",B),a.append("lastName",N),a.append("country",ke),a.append("bankName",F),a.append("bankAccountNo",R),a.append("bankAccountType",Be),a.append("bankIfsc",P),a.append("bankBranch",I),a.append("state",D),a.append("city",L),a.append("zip",H),a.append("address",$),a.append("aadhar",Z),a.append("pan",J),y&&a.append("aadharFile",y),S&&a.append("panFile",S),b&&a.append("bankDocument",b),f&&a.append("avatar",f),a.append("nomineeName",ae),a.append("nomineeDOB",ne),a.append("nomineeRelation",re);const{data:h}=await De(a);h.status&&(x(!1),Ce(h.data),w({title:"Success",description:"User Updated successfully & sent for verification",status:"success",duration:4e3,isClosable:!0,position:"bottom-right"})),h.status||(x(!1),w({title:"Error",description:h.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"}))}catch(a){x(!1),console.log(a),w({title:"Error",description:a.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}};return n(s,{bg:o("gray.50","inherit"),p:5,children:[e(s,{children:n(u,{display:{base:"initial",md:"grid"},columns:{md:3},spacing:{md:6},children:[e(i,{colSpan:{md:1},children:n(s,{px:[4,0],children:[e(v,{fontSize:"lg",fontWeight:"md",lineHeight:"6",children:"Profile"}),e(d,{mt:1,fontSize:"sm",color:o("gray.600","gray.400"),children:"This information will be displayed publicly so be careful what you share."})]})}),e(i,{mt:[5,null,0],colSpan:{md:2},children:n(c,{px:4,py:5,bg:o("white","gray.700"),spacing:6,p:{sm:6},children:[e(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Photo"}),n(c,{direction:"row",flexWrap:"wrap",spacing:4,children:[e(Oe,{boxSize:24,bg:o("gray.100","gray.800"),icon:e(Pe,{as:Ve,boxSize:20,mt:3,rounded:"full",color:o("gray.300","gray.700")}),src:we||`${Ie}/assets/${t==null?void 0:t._id}/${t==null?void 0:t.avatar}`}),e(l,{type:"file",ref:Q,display:"none","aria-hidden":"true",accept:"image/*",onChange:a=>{ve(a.target.files[0]),ze(URL.createObjectURL(a.target.files[0]))}}),e(g,{variant:"ghost",size:"sm",px:2,onClick:()=>Q.current.click(),sx:{alignSelf:"center"},children:"Choose"}),n(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),sx:{alignSelf:"center"},children:["Attached: ",f?f.name:t==null?void 0:t.avatar]})]})]})})]})}),e(s,{visibility:{base:"hidden",sm:"visible"},"aria-hidden":"true",children:e(s,{py:5,children:e(s,{borderTop:"solid 1px",borderTopColor:o("gray.200","whiteAlpha.200")})})}),e(s,{mt:[10,0],children:n(u,{display:{base:"initial",md:"grid"},columns:{md:3},spacing:{md:6},children:[e(i,{colSpan:{md:1},children:n(s,{px:[4,0],children:[e(v,{fontSize:"lg",fontWeight:"medium",lineHeight:"6",children:"Personal Information"}),e(d,{mt:1,fontSize:"sm",color:o("gray.600","gray.400"),children:"Use a permanent address where you can receive mail."})]})}),e(i,{mt:[5,null,0],colSpan:{md:2},children:n(c,{px:4,py:5,p:[null,6],bg:o("white","gray.700"),spacing:6,children:[n(c,{direction:"row",spacing:2,width:"100%",children:[n(m,{children:[e(p,{htmlFor:"email_address",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Email address"}),e(l,{type:"text",disabled:!0,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",value:t==null?void 0:t.email})]}),n(m,{children:[e(p,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Phone Number"}),e(l,{disabled:!0,mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",value:t==null?void 0:t.phone})]})]}),n(u,{columns:6,spacing:6,children:[n(m,{as:i,colSpan:[6,3],children:[e(p,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"First name"}),e(l,{type:"text",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>A(a.target.value),value:B,defaultValue:t==null?void 0:t.firstName})]}),n(m,{as:i,colSpan:[6,3],children:[e(p,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),onChange:a=>z(a.target.value),children:"Last name"}),e(l,{type:"text",name:"last_name",id:"last_name",autoComplete:"family-name",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",value:N,defaultValue:t==null?void 0:t.lastName,onChange:a=>z(a.target.value)})]}),n(m,{as:i,colSpan:[6,3],children:[e(p,{htmlFor:"country",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Country / Region"}),e(k,{id:"country",name:"country",autoComplete:"country",placeholder:"Select option",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>W(a.target.value),children:e("option",{children:"India"})})]}),n(m,{as:i,colSpan:6,children:[e(p,{htmlFor:"street_address",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Street address"}),e(l,{type:"text",name:"street_address",id:"street_address",autoComplete:"street-address",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",value:$,defaultValue:t==null?void 0:t.address,onChange:a=>G(a.target.value)})]}),n(m,{as:i,colSpan:[6,6,null,2],children:[e(p,{htmlFor:"city",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"City"}),e(l,{type:"text",name:"city",id:"city",autoComplete:"street-address",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>E(a.target.value),value:L,defaultValue:t==null?void 0:t.city})]}),n(m,{as:i,colSpan:[6,3,null,2],children:[e(p,{htmlFor:"state",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"State / Province"}),e(l,{type:"text",name:"state",id:"state",autoComplete:"state",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>O(a.target.value),value:D,defaultValue:t==null?void 0:t.state})]}),n(m,{as:i,colSpan:[6,3,null,2],children:[e(p,{htmlFor:"postal_code",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"ZIP / Postal"}),e(l,{type:"text",name:"postal_code",id:"postal_code",autoComplete:"postal-code",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",value:H,defaultValue:t==null?void 0:t.zip,onChange:a=>M(a.target.value)})]})]})]})})]})}),e(s,{visibility:{base:"hidden",sm:"visible"},"aria-hidden":"true",children:e(s,{py:5,children:e(s,{borderTop:"solid 1px",borderTopColor:o("gray.200","whiteAlpha.200")})})}),e(s,{mt:[10,0],children:n(u,{display:{base:"initial",md:"grid"},columns:{md:3},spacing:{md:6},children:[e(i,{colSpan:{md:1},children:n(s,{px:[4,0],children:[e(v,{fontSize:"lg",fontWeight:"medium",lineHeight:"6",children:"Financials"}),e(d,{mt:1,fontSize:"sm",color:o("gray.600","gray.400"),children:"Fill in your bank account details for withdrawals."})]})}),e(i,{mt:[5,null,0],colSpan:{md:2},children:e(je.form,{method:"POST",shadow:"base",rounded:[null,"md"],overflow:{sm:"hidden"},children:n(c,{px:4,py:5,p:[null,6],bg:o("white","gray.700"),spacing:6,children:[e(c,{direction:"row",spacing:3,flexWrap:"wrap",children:n(i,{colSpan:[6,null,null,2],children:[n(c,{px:4,py:5,bg:o("white","gray.700"),spacing:2,p:{sm:6},children:[e(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"PAN Card Attachment"}),n(c,{direction:"column",flexWrap:"wrap",spacing:2,children:[e(l,{type:"file",ref:X,display:"none","aria-hidden":"true",accept:".pdf, .jpg, .jpeg, .png",onChange:a=>Ne(a.target.files[0])}),e(l,{type:"text",placeholder:"PAN Number",value:J,defaultValue:(le=t==null?void 0:t.pan)==null?void 0:le.id,onChange:a=>K(a.target.value)}),e(g,{variant:"outline",size:"sm",px:2,onClick:()=>X.current.click(),children:"Choose"}),S&&n(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),sx:{alignSelf:"center"},children:["Attached: ",S.name]})]})]}),n(c,{px:4,py:5,bg:o("white","gray.700"),spacing:2,p:{sm:6},children:[e(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Aadhar File"}),n(c,{direction:"column",flexWrap:"wrap",spacing:2,children:[e(l,{type:"file",ref:Y,display:"none","aria-hidden":"true",accept:".pdf, .jpg, .jpeg, .png",onChange:a=>Ae(a.target.files[0])}),e(l,{type:"text",placeholder:"Aadhar Number",value:Z,defaultValue:(se=t==null?void 0:t.aadhar)==null?void 0:se.id,onChange:a=>q(a.target.value)}),e(g,{variant:"outline",size:"sm",px:2,onClick:()=>Y.current.click(),children:"Choose"}),y&&n(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),sx:{alignSelf:"center"},children:["Attached: ",y.name]})]})]}),n(c,{px:4,py:5,bg:o("white","gray.700"),spacing:4,p:{sm:6},children:[e(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Cancel Cheque / Bank Statement"}),n(c,{direction:"column",flexWrap:"wrap",spacing:2,children:[e(l,{type:"file",ref:ee,display:"none","aria-hidden":"true",accept:".pdf, .jpg, .jpeg, .png",onChange:a=>We(a.target.files[0])}),e(g,{variant:"outline",size:"sm",px:2,onClick:()=>ee.current.click(),children:"Choose"}),b&&n(d,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),sx:{alignSelf:"center"},children:["Attached: ",b.name]})]})]})]})}),n(c,{direction:"row",spacing:3,children:[n(m,{as:i,colSpan:[6,3],children:[e(p,{htmlFor:"first_name",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Bank Name"}),e(l,{type:"text",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>T(a.target.value),value:F,defaultValue:(de=t==null?void 0:t.bankAccount)==null?void 0:de.bankName})]})," ",n(m,{as:i,colSpan:[6,3],children:[e(p,{htmlFor:"first_name",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Account No."}),e(l,{type:"text",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>U(a.target.value),value:R,defaultValue:(ce=t==null?void 0:t.bankAccount)==null?void 0:ce.accountNo})]}),n(m,{as:i,colSpan:[6,3],children:[e(p,{htmlFor:"first_name",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"IFSC"}),e(l,{type:"text",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>V(a.target.value),value:P,defaultValue:(me=t==null?void 0:t.bankAccount)==null?void 0:me.ifsc})]})]}),n(c,{direction:"row",spacing:2,children:[n(m,{as:i,colSpan:[6,3],children:[e(p,{htmlFor:"first_name",fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Bank Branch Name"}),e(l,{type:"text",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>j(a.target.value),value:I,defaultValue:(pe=t==null?void 0:t.bankAccount)==null?void 0:pe.branch})]}),n(m,{as:i,colSpan:[6,3],children:[e(p,{fontSize:"sm",fontWeight:"md",color:o("gray.700","gray.50"),children:"Account Type"}),n(k,{placeholder:"Select Account Type",mt:1,focusBorderColor:"brand.400",shadow:"sm",size:"sm",w:"full",rounded:"md",onChange:a=>_(a.target.value),children:[e("option",{children:"Savings"}),e("option",{children:"Current"})]})]})]})]})})})]})}),e(s,{visibility:{base:"hidden",sm:"visible"},"aria-hidden":"true",children:e(s,{py:5,children:e(s,{borderTop:"solid 1px",borderTopColor:o("gray.200","whiteAlpha.200")})})}),e(s,{mt:[10,0],children:n(u,{display:{base:"initial",md:"grid"},columns:{md:3},spacing:{md:6},children:[e(i,{colSpan:{md:1},children:n(s,{px:[4,0],children:[e(v,{fontSize:"lg",fontWeight:"medium",lineHeight:"6",children:"Nominee Details"}),e(d,{mt:1,fontSize:"sm",color:o("gray.600","gray.400"),children:"Fill in your nominee details"})]})}),e(i,{mt:[5,null,0],colSpan:{md:2},children:n(c,{px:4,py:5,bg:o("white","gray.700"),spacing:2,p:{sm:6},children:[e(d,{children:"Enter nominee name"}),e(l,{value:ae,onChange:a=>te(a.target.value),type:"text"}),e(d,{children:"Enter nominee DOB"}),e(l,{value:ne,onChange:a=>oe(a.target.value),type:"date"}),e(d,{children:"Select relation Type"}),e(k,{value:re,onChange:a=>ie(a.target.value),children:Le.map(a=>e("option",{value:a.value,children:a.option},a.value))})]})})]})}),n(s,{sx:{display:"flex",my:8,justifyContent:"flex-end",width:"100%"},children:[e(g,{size:"lg",onClick:Te,children:"SUBMIT"}),Fe&&e(d,{children:"Loading..."})]})]})}export{Ze as default};
