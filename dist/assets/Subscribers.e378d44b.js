import{r as n,j as i,S as s,d as t,i as w,E as z,H as a,m as g,B as d,b as C,u as P,l as j,o as p,p as E,T as u,Q as T,P as D,cl as M}from"./index.996e1d78.js";function k(){return i(s,{direction:"column",spacing:3,justifyContent:"center",alignItems:"center",h:"80vh",children:[t(w,{animationData:z,autoPlay:!0,loop:!0,style:{height:"60vh",width:"60vw"}}),t(a,{children:"No Subscribers Found!"})]})}var Y=n.exports.memo(k);const m=g(s);g(d);const H={hidden:{scale:0},animate:{scale:1,transition:{staggerChildren:.5,delayChildren:.4}}},N={hidden:{opacity:0},animate:{opacity:1}};function B(){C();const S=P(),[o,b]=n.exports.useState([]),[r,f]=n.exports.useState(1),[c,x]=n.exports.useState(10),[l,y]=n.exports.useState(0),v=async()=>{try{const{data:e}=await M(r,c);if(e!=null&&e.error)return S({title:"Error",description:e.message,status:"error",duration:3e3,isClosable:!0,position:"top-right"});b(e==null?void 0:e.data),y(e==null?void 0:e.count)}catch(e){console.error(e)}};return n.exports.useEffect(()=>{v()},[r,c]),i(d,{sx:{minHeight:"90vh",display:"flex",flexDirection:"column",pb:4},children:[t(s,{direction:"row",justifyContent:"space-between",my:4,children:i(a,{color:"gray.600",children:["Newsletter Subscribers: ",l]})}),i(m,{variants:H,initial:"hidden",animate:"animate",direction:"column",spacing:2,sx:{px:{sm:2,lg:6},pt:4},children:[(o==null?void 0:o.length)===0&&t(Y,{}),o.map((e,h)=>i(m,{direction:"row",variants:N,px:8,py:4,rounded:"lg",shadow:"lg",bg:j("white","gray.800"),maxW:"100%",divider:t(p,{}),children:[t(E,{size:"md",variant:"subtle",colorScheme:"green",px:3,fontSize:"sm",fontWeight:"700",rounded:"md",children:e.isSubscribed?"Subscribed":"Unsubscribed"}),i(s,{direction:"row",spacing:2,mt:2,divider:t(p,{}),justifyContent:"space-evenly",children:[i(s,{direction:"column",spacing:1,children:[t(a,{fontSize:"md",children:"Email: "}),t(u,{fontSize:"sm",children:e==null?void 0:e.email})]}),i(s,{direction:"column",spacing:1,children:[t(a,{fontSize:"md",children:"Subscribed on: "}),t(u,{fontSize:"sm",children:T(e==null?void 0:e.createdAt).format("DD MMM YYYY")})]})]})]},e._id))]}),t(d,{children:t(D,{defaultPageSize:c,defaultPage:r,total:l,paginationProps:{display:"flex",justifyContent:"center",marginTop:"2em"},pageNeighbours:1,showQuickJumper:!0,responsive:!0,onChange:e=>f(e),onShowSizeChange:(e,h)=>x(parseInt(h)),showSizeChanger:!0})})]})}export{B as default};
