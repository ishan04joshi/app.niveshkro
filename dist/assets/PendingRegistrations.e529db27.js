import{m as q,S as r,B as m,u as sn,bx as cn,r as l,h as _,az as H,j as e,M as hn,D as gn,d as o,F as Y,G as mn,J as G,K as pn,N as K,H as s,p as J,a_ as bn,a8 as un,T as i,l as c,t as p,o as Q,aA as N,a$ as w,b0 as a,e as h,by as f,O as Z,bz as Sn,bA as yn,I as xn,i as Cn,E as X,aa as $,Q as wn,P as fn,bB as An,b2 as vn,bC as kn,b5 as zn}from"./index.996e1d78.js";import{B as I}from"./index.esm.6756331e.js";import{a as Tn}from"./index.esm.d5df6859.js";import{a as Nn}from"./chakra-ui-avatar.esm.53e6ba8c.js";const In=q(r),En=q(m),Rn={loop:!0,autoplay:!0,animationData:X},Wn={hidden:{scale:0},animate:{scale:1,transition:{staggerChildren:.5,delayChildren:.4}}},Pn={hidden:{opacity:0},animate:{opacity:1}},jn=()=>{const d=sn();cn(Rn);const[A,D]=l.exports.useState(1),[v,U]=l.exports.useState(10),[k,nn]=l.exports.useState([]),[b,E]=l.exports.useState(null),[n,R]=l.exports.useState(null),[tn,x]=l.exports.useState(!1);l.exports.useState(!1);const{isOpen:W,onOpen:P,onClose:C}=_(),O=l.exports.useRef(),B=l.exports.useRef(),{isOpen:M,onOpen:on,onClose:z}=_(),T=async()=>{try{const{data:t}=await An(A,v);t.status&&(nn(t.data),d({title:"Success",description:t.message,status:"success",duration:3e3,isClosable:!0,position:"bottom-right"}))}catch(t){console.log(t),d({title:"Error",description:"Something went wrong",status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}},en=async()=>{x(!0);try{const{data:t}=await vn(b);t.status&&(x(!1),R(t.data),P(),d({title:"Success",description:t.message,status:"success",duration:3e3,isClosable:!0,position:"bottom-right"})),t.status||d({title:"Error",description:t.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"}),x(!1)}catch{x(!1),d({title:"Error",description:"Something went wrong",status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}},an=async()=>{try{const{data:t}=await kn(b);t.status&&(d({title:"Success",description:t.message,status:"success",duration:3e3,isClosable:!0,position:"bottom-right"}),C(),T()),t.status||d({title:"Error",description:t.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}catch(t){d({title:"Error",description:"Something went wrong"+t.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}},rn=async()=>{try{const{data:t}=await zn(b,O.current.value);t.status&&(d({title:"Success",description:t.message,status:"success",duration:3e3,isClosable:!0,position:"bottom-right"}),z(),C(),E(null),R(null),T()),t.status||d({title:"Error",description:t.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}catch(t){d({title:"Error",description:"Something went wrong"+t.message,status:"error",duration:3e3,isClosable:!0,position:"bottom-right"})}};l.exports.useEffect(()=>{!b||en()},[b]),l.exports.useEffect(()=>{T()},[A,v]);const dn=H.useCallback(t=>{var u,S,y,L,j,V,F;return e(hn,{onClose:C,isOpen:W,isCentered:!0,scrollBehavior:"inside",size:gn({base:"sm",sm:"md",md:"md",lg:"lg",xl:"xl"}),sx:{mx:2},children:[o(Y,{}),e(mn,{children:[o(G,{children:"USER DETAILS"}),o(pn,{}),o(K,{children:e(r,{spacing:{base:6,md:10},children:[e(m,{as:"header",children:[e(r,{direction:"row",spacing:1,justifyContent:"space-between",children:[e(s,{lineHeight:1.1,fontWeight:600,fontSize:{base:"2xl",sm:"4xl",lg:"5xl"},children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),e(J,{variant:"solid",fontWeight:"bold",bg:(n==null?void 0:n.status)==="approved"?"green.800":"red.800",children:[o(bn,{as:Tn}),o(un,{children:n==null?void 0:n.status})]})]}),e(i,{color:c("gray.900","gray.400"),fontWeight:300,fontSize:"2xl",children:[p((n==null?void 0:n.invested)||0)," INR"]})]}),e(r,{spacing:{base:4,sm:6},direction:"column",divider:o(Q,{borderColor:c("gray.200","gray.600")}),children:[e(m,{children:[o(i,{fontSize:{base:"16px",lg:"18px"},color:c("yellow.500","yellow.300"),fontWeight:"500",textTransform:"uppercase",mb:"4",children:"SUMMARY"}),o(N,{columns:{base:1,md:2},spacing:10,children:e(w,{spacing:2,children:[e(a,{children:["INVESTED:"," ",o("strong",{children:p((n==null?void 0:n.invested)||0)})]}),e(a,{children:["PROFIT:"," ",o("strong",{children:p((n==null?void 0:n.invested)||0)})]}),e(a,{children:["LOSS:"," ",o("strong",{children:p((n==null?void 0:n.invested)||0)})]})]})})]}),e(m,{children:[o(i,{fontSize:{base:"16px",lg:"18px"},color:c("yellow.500","yellow.300"),fontWeight:"500",textTransform:"uppercase",mb:"4",children:"PERSONAL Details"}),e(w,{spacing:2,children:[e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"ID:"})," ",n==null?void 0:n.id]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"First Name:"})," ",n==null?void 0:n.firstName]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"Last Name:"})," ",n==null?void 0:n.lastName]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"Phone:"})," ","+91 ",n==null?void 0:n.phone]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"Email:"})," ",n==null?void 0:n.email]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"City:"})," ",n==null?void 0:n.city]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"State:"})," ",n==null?void 0:n.state]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"Zip:"})," ",n==null?void 0:n.zip]}),e(a,{children:[o(i,{as:"span",fontWeight:"bold",children:"Address:"})," ",n==null?void 0:n.address]})]})]}),e(m,{children:[o(i,{fontSize:{base:"16px",lg:"18px"},color:c("yellow.500","yellow.300"),fontWeight:"500",textTransform:"uppercase",mb:"4",children:"BANK DETAILS"}),o(N,{columns:{base:1,md:2},spacing:10,children:e(w,{spacing:2,children:[e(a,{children:["Bank Account Type:"," ",(u=n==null?void 0:n.bankAccount)==null?void 0:u.type]}),e(a,{children:["Bank Name: ",(S=n==null?void 0:n.bankAccount)==null?void 0:S.bankName]}),e(a,{children:["Account Number:"," ",(y=n==null?void 0:n.bankAccount)==null?void 0:y.accountNo]}),e(a,{children:["IFSC: ",(L=n==null?void 0:n.bankAccount)==null?void 0:L.ifsc]}),e(a,{children:["Bank Branch Name:"," ",(j=n==null?void 0:n.bankAccount)==null?void 0:j.branch]}),o(h,{variant:"link",rightIcon:o(I,{}),onClick:()=>{var g;return window.open(f+"/assets/"+(n==null?void 0:n._id)+"/"+((g=n==null?void 0:n.bankAccount)==null?void 0:g.document))},children:"View Bank Attachment"})]})})]}),e(m,{children:[o(i,{fontSize:{base:"16px",lg:"18px"},color:c("yellow.500","yellow.300"),fontWeight:"500",textTransform:"uppercase",mb:"4",children:"IDENTITY DETAILS"}),o(N,{columns:{base:1,md:2},spacing:10,children:e(w,{spacing:2,children:[e(a,{children:["AADHAR Number: ",(V=n==null?void 0:n.aadhar)==null?void 0:V.id]}),e(a,{children:["PAN: ",(F=n==null?void 0:n.pan)==null?void 0:F.id]}),o(h,{variant:"link",rightIcon:o(I,{}),onClick:()=>{var g;return window.open(f+"/assets/"+(n==null?void 0:n._id)+"/"+((g=n==null?void 0:n.aadhar)==null?void 0:g.file))},children:"View Aadhar Attachment"}),o(h,{variant:"link",rightIcon:o(I,{}),onClick:()=>{var g;return window.open(f+"/assets/"+(n==null?void 0:n._id)+"/"+((g=n==null?void 0:n.pan)==null?void 0:g.file))},children:"View PAN Attachment"})]})})]})]})]})}),o(Z,{children:e(r,{direction:"row",spacing:2,children:[!(n!=null&&n.status)!=="approved"&&e(r,{direction:"row",spacing:2,flexWrap:"wrap",children:[o(h,{onClick:an,children:"Verify"}),o(h,{onClick:on,children:"Reject"})]}),o(h,{onClick:C,children:"Close"})]})})]})]})},[W]),ln=H.useCallback(()=>o(Sn,{isOpen:M,leastDestructiveRef:B,onClose:z,children:o(Y,{children:e(yn,{children:[o(G,{fontSize:"lg",fontWeight:"bold",children:"Reject Registration"}),e(K,{children:["Are you sure? You can't undo this action afterwards.",o(xn,{noOfLines:4,placeholder:"Enter reason",sx:{my:5},ref:O})]}),e(Z,{children:[o(h,{ref:B,onClick:z,children:"Cancel"}),o(h,{colorScheme:"red",onClick:rn,ml:3,children:"Reject"})]})]})})}),[M]);return e(m,{sx:{minHeight:"90vh",display:"flex",flexDirection:"column",pb:4},children:[o(dn,{}),o(ln,{}),e(In,{variants:Wn,initial:"hidden",animate:"animate",direction:"column",spacing:2,sx:{px:{sm:2,lg:6},pt:4},children:[k.length===0&&e(r,{direction:"column",spacing:3,justifyContent:"center",alignItems:"center",h:"80vh",children:[o(Cn,{animationData:X,autoPlay:!0,loop:!0,style:{height:"60vh",width:"60vw"}}),o(s,{children:"No Users Found"})]}),k.map((t,u)=>{var S,y;return e(En,{variants:Pn,px:8,py:4,rounded:"lg",shadow:"lg",bg:c("white","gray.800"),maxW:"100%",children:[o(J,{size:"md",variant:"solid",variantColor:"green",px:3,bg:t.verified?"green.900":"red.900",color:"gray.100",fontSize:"sm",fontWeight:"700",rounded:"md",children:t==null?void 0:t.status}),e(r,{direction:"row",spacing:2,mt:2,divider:o(Q,{}),justifyContent:"space-evenly",children:[e(r,{direction:"column",spacing:1,children:[o(s,{fontSize:"md",children:"INVESTED"}),o(s,{fontSize:"sm",children:p((t==null?void 0:t.invested)||0)})]}),e(r,{direction:"column",spacing:1,children:[o(s,{fontSize:"md",children:"PROFIT"}),o(s,{fontSize:"sm",children:p((t==null?void 0:t.invested)||0)})]}),e(r,{direction:"column",spacing:1,children:[o(s,{fontSize:"md",children:"LOSS"}),o(s,{fontSize:"sm",children:p((t==null?void 0:t.invested)||0)})]}),e(r,{direction:"column",spacing:1,children:[e(s,{fontSize:"md",children:["PACKAGES",o("br",{}),"BOUGHT"]}),o(s,{fontSize:"sm",children:"0"})]})]}),e($,{justifyContent:"space-around",alignItems:"center",mt:4,children:[e(i,{fontSize:"sm",noOfLines:0,color:c("gray.600","gray.400"),children:["Created: ",wn(t==null?void 0:t.createdAt).format("dddd, DD MMMM YYYY")]}),o(h,{color:c("brand.600","brand.400"),_hover:{bg:"green.700"},size:"sm",variant:"outline",onClick:()=>{if(b===(t==null?void 0:t._id))return P();E(t==null?void 0:t._id)},isLoading:tn,children:"Details"}),e($,{alignItems:"center",children:[o(Nn,{mx:4,size:"sm",src:f+"/assets/"+(t==null?void 0:t._id)+"/"+(t==null?void 0:t.avatar),name:(t==null?void 0:t.firstName)+(t==null?void 0:t.lastName)}),o(i,{color:c("gray.700","gray.200"),fontWeight:"700",children:((S=t==null?void 0:t.firstName)==null?void 0:S.toUpperCase())||"none "+((y=t==null?void 0:t.lastName)==null?void 0:y.toUpperCase())||"none"})]})]})]},u+(t==null?void 0:t._id))})]}),o(m,{sx:{},children:k.length>0&&o(fn,{defaultPageSize:v,defaultPage:A,total:500,paginationProps:{display:"flex",justifyContent:"center",marginTop:"2em"},pageNeighbours:1,showQuickJumper:!0,responsive:!0,onChange:t=>D(t),onShowSizeChange:(t,u)=>U(parseInt(u)),showSizeChanger:!0})})]})};export{jn as default};
